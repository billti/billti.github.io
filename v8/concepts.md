---
layout: docs
title: V8 concepts
permalink: /v8/concepts
---

## Overview of V8 concepts

This section will provide a very high level overview of the major V8 components to provide
some context before delving deeper.

### Platform

V8 does not provide a host environment (other than the D8 utility used for testing).
V8 requires certain services that a host may wish to provide, such as a thread-pool,
a task-runner or event-loop, a memory allocator, logging infrastructure, etc. These 
are provided by implementing a `Platform`, or which V8 provides a `DefaultPlatform`
for basic usage.

### Isolate

An `Isolate` is effectively an instance of the V8 JavaScript virtual machine within a
process. Some immutable read-only state may be shared by isolates (such as the executable
code for built-in functions), but otherwise any state for the V8 virtual machine is
contained within an isolate. Only one thread may be running within an isolate at any
given time. (Though multiple isolates may be executing concurrently).

### Context

A `Context` provides the environment that any running JavaScript sees, such as the global
JavaScript objects. A context is useful for things like iframes, where each iframe has
its own global objects. As only one thread can be running in an isolate, a context
does not provide any concurrency (if multiple contexts are in the same isolate).

### Parser

The V8 parser is used to take a source file (represented as one big string by the time
V8 gets it), and turn this into a representation that V8 can understand. As with many
production parsers today, the V8 parser is a hand-written [recursive decent](https://en.wikipedia.org/wiki/Recursive_descent_parser)
parser. The V8 parser does not produce as AST (TODO: confirm), but generates bytecode
for the interpreter directly.

### Interpreter

The V8 interpreter, named ["Ignition"](https://v8.dev/docs/ignition), takes the bytecode
generated by the parser, and executes it to provide a full JavaScript engine implementation.
As the bytecode executes, execution characteristics are tracked, such as what types are observed
in expressions, and which code is executed frequently, to provide input to the compiler.

### Compiler

The "Just-in-time Compiler" (sometimes just called the "JIT"), named 
["TurboFan"](https://v8.dev/docs/turbofan), takes
the bytecode and data from runtime monitoring, and produces optimized native code for
the CPU. This provides much faster execution than the interpreter, unless a "bailout"
is detected (where the choices the JIT made turn out to be wrong) and the execution
reverts back to the interpreter (and may again later be chosen for compilation).

### Garbage Collector

V8 is a "garbage collected" JavaScript engine. As allocated memory becomes unused,
it is left allocated until the garbage collector scans memory to see which memory
can be freed. The V8 garbage collection can run some phases concurrently on separate
threads. It is also a "compacting" garbage collector, which means objects may be
moved as the garbage collector runs.

### Debugger

V8 includes a debugger, that external tools may talk to via a debug protocol know
as the [inspector protocol](https://v8.dev/docs/inspector).

### Profiler

A CPU profiler is included in V8, which may also be communicated with via the
[inspector protocol](https://chromedevtools.github.io/devtools-protocol/tot/Profiler).

### Tracing

TODO [Tracing](https://v8.dev/docs/trace)

### Snapshot

At build time, the built-in functions for the standard JavaScript APIs are precompiled
into a binary form known as a "snapshot". This may be packages into the main V8 binary
or as a standalone binary file. This provides an optimization at startup time, as
the functions to not need to be compiled again.

### ICU

TODO https://v8.dev/docs/i18n

### Torque

[Torque](https://v8.dev/docs/torque) is a domain specific language used to describe
the layout of built-in types, as well as the code for built-in methods. This provides
for more control and optimizations over writing in JavaScript, while also providing
a higher-level abstraction and more productive development experience.

### Code stub assembler

TODO [CSA](https://v8.dev/docs/csa-builtins)

### Wasm

### D8

TODO [D8](https://v8.dev/docs/d8)